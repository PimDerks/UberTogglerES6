<html>
<head>
<title>UberToggler</title>
    <link href="style.css" rel="stylesheet" />
</head>
<body>

<h1>UberToggle</h1>

<h2>Introduction</h2>

<p>UberToggle is a library for managing states of elements. Basically anything can be an instance of UberToggle, as long as it has two different states.</p>

<h2>Features</h2>
<ul>
    <li>No dependencies</li>
    <li>Grouping (for components like tabs, accordions, etc.)</li>
    <li>Accessible (WAI-ARIA)</li>
    <li>Events (mouseover, mouseleave, click)</li>
</ul>

<h2>Terms</h2>

<h3>Toggle</h3>

<p>The main module of this library. A <code>Toggle</code> has two states.</p>

<h3>ToggleGroup</h3>

<p>A group of at least two instances of <code>Toggle</code>. Only one <code>Toggle</code can be active.</p>

<h3>Trigger</h3>

<p>A <code>Trigger</code> is like a lightswitch - it turns the light (in our case, a <code>Toggle</code>) on or off - but it has an on/off state itself as well.</p>

<p>It is recommended to only use elements which can be focused as Triggers.</p>

<ul>
    <li>Button</li>
    <li>Link</li>
    <li>Input</li>
</ul>

<h4>TriggerInput</h4>

<p>This module is used for <code>input</code>-elements which are used as a <code>Trigger</code>. As soon as the input contains a value, the connected <code>Toggle</code> is activated.</p>

<h4>TriggerInputChoice</h4>

<p>This module is used for <code>input</code>-elements of the types <code>radio</code> or <code>checkbox</code> which are used as a <code>Trigger</code>. As soon as the input is checked, the connected <code>Toggle</code> is activated.</p>

<h4>TriggerInputSelect</h4>

<p>This module is used for <code>select</code>-elements of the types which are used as a <code>Trigger</code>. Each <code>option</code> has an <code>aria-controls</code>-attribute which controls the Toggle which should be activated.</p>

<h4>TriggerLink</h4>

<p>This module is used for <code>a</code>-elements which are used as a <code>Trigger</code>. When the link is clicked, the <code>Toggle</code> is (de)activated, depending on its current state.</p>

<h3>Manager</h3>

<p>This module keeps tracks of all the instances of <code>Toggle</code> which currently exist.</p>

<h3>Factory</h3>

<p>This module is used to determine which type of <code>Trigger</code> or <code>Toggle</code> should be created.</p>

<h2>How to use?</h2>

<h3>Attaching Trigger to Toggle</h3>

<p>For anchor-elements simply use the <code>href</code>-attribute.</p>

<p>For other-elements, use the <code>aria-controls</code>-attribute with a space-separated list of element identifiers (e.g. <code>aria-controls="lorem ipsum dolor"</code>).</p>

<p>These attributes can also be used together. So if you want to target multiple Toggles with a single anchor Trigger, use the <code>href</code> in combination with <code>aria-controls</code>. Of course you should consider if using an <code>a</code> is the correct element for your use-case first. Changes are that if you want to target multiple items at once you're better off using a <code>button</code>.</p>

<h3>Dynamically creating a Toggle/Trigger</h3>

<h2>Configuration</h2>

<ul>
    <li>DOM API</li>
    <li>JSON to constructor</li>
</ul>

<h3>Outside</h3>

<p>For components like dropdown-menus or tooltips it might be necessary to automatically close the <code>Toggle</code> when the users focus shifts elsewhere.</p>

<h4>Options</h4>

<table>
    <thead>
        <tr>
            <th scope="col">Value</th>
            <th scope="result">Result</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="col"><code>both</code></th>
            <td>Targetted <code>Toggle</code>s close when hovered or clicked outside.</td>
        </tr>
        <tr>
            <th scope="col"><code>mouse</code></th>
            <td>Targetted <code>Toggle</code>s close when hovered outside.</td>
        </tr>
        <tr>
            <th scope="col"><code>click</code></th>
            <td>Targetted <code>Toggle</code>s close when clicked outside.</td>
        </tr>
    </tbody>
</table>

<h3>Group</h3>

<p>Combine multiple <code>Toggle</code>s to create elements like tabs, accordions or other elements where only one item can be active at a given time.</p>

<h3>Focus</h3>

<p>Set this option to true to automatically set focus to the <code>Toggle</code> when it is activated.</p>

<h3>Focus Contain</h3>

<p>Set this option to true to trap focus inside the <code>Toggle</code> when it is activated.</p>

<h3>Focus Exclude</h3>

<p>Set this option to true to prevent the element (and its children) from receiving focus <code>Toggle</code> when it is deactivated.</p>

<h3>ARIA Hidden</h3>

<p>Set this option to true to set <code>aria-hidden</code>-attributes on the <code>Toggle</code> or <code>Trigger</code>.</p>

<h3>ARIA Disabled</h3>

<p>Set this option to true to set <code>aria-disabled</code>-attributes on the <code>Toggle</code> or <code>Trigger</code>.</p>

<h3>ARIA Expanded</h3>

<p>Set this option to true to set <code>aria-expanded</code>-attributes on the <code>Toggle</code> or <code>Trigger</code>.</p>

<h3>ARIA Pressed</h3>

<p>Set this option to true to set <code>aria-pressed</code>-attributes on the <code>Toggle</code> or <code>Trigger</code>.</p>

<h3>ARIA Checked</h3>

<p>Set this option to true to set <code>aria-checked</code>-attributes on the <code>Toggle</code> or <code>Trigger</code>.</p>

<h3>Overview</h3>

<table>
    <thead>
        <tr>
            <th scope="col">Option</th>
            <th scope="col">JSON</th>
            <th scope="col">DOM API</th>
            <th scope="col">Default</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="col">Outside</th>
            <td><code>outside</code></td>
            <td><code>data-outside</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">Group</th>
            <td><code>group</code></td>
            <td><code>data-group</code></td>
            <td></td>
        </tr>
        <tr>
            <th scope="col">Focus</th>
            <td><code>focus</code></td>
            <td><code>data-focus</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">Focus Contain</th>
            <td><code>focusContain</code></td>
            <td><code>data-focus-contain</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">Focus Exclude</th>
            <td><code>focus-exclude</code></td>
            <td><code>data-focus-exclude</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">aria-hidden</th>
            <td><code>ariaHidden</code></td>
            <td><code>data-aria-hidden</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">aria-disabled</th>
            <td><code>ariaDisabled</code></td>
            <td><code>data-aria-disabled</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">aria-expanded</th>
            <td><code>ariaExpanded</code></td>
            <td><code>data-aria-expanded</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">aria-pressed</th>
            <td><code>ariaPressed</code></td>
            <td><code>data-aria-pressed</code></td>
            <td>false</td>
        </tr>
        <tr>
            <th scope="col">aria-checked</th>
            <td><code>ariaChecked</code></td>
            <td><code>data-aria-checked</code></td>
            <td>false</td>
        </tr>
    </tbody>
</table>

<h2>Examples</h2>

<h3>Basic examples</h3>

<h4>Default</h4>
<button aria-controls="toggle" class="trigger" data-aria-pressed="true">Trigger</button>
<div class="toggle" id="toggle" data-aria-disabled="true">Toggle</div>

<h4>Input</h4>
<input type="text" aria-controls="input-text" />
<div class="toggle" id="input-text">Input Toggle</div>

<h4>Checkbox</h4>
<input type="checkbox" aria-controls="input-checkbox" />
<div class="toggle" id="input-checkbox">Checkbox Toggle</div>

<h4>Radio</h4>
<input type="radio" aria-controls="radio-toggle" checked="checked" />
<div class="toggle" id="radio-toggle">Radio Toggle</div>

<h4>Multiple triggers</h4>
<a href="#toggle-multiple" class="trigger">Trigger A</a>
<a href="#toggle-multiple" class="trigger">Trigger B</a>
<div class="toggle" id="toggle-multiple">Toggle</div>

<h4>Trigger with multiple targets</h4>
<button type="button" aria-controls="multiple-target-a multiple-target-b" class="trigger">Trigger</button>
<div class="toggle" id="multiple-target-a">Toggle A</div>
<div class="toggle" id="multiple-target-b">Toggle B</div>

<h4>Trigger with multiple targets and multiple triggers</h4>
<button type="button" aria-controls="multiple-target-a1 multiple-target-b1" class="trigger">Trigger A</button>
<button type="button" aria-controls="multiple-target-a1 multiple-target-b1" class="trigger">Trigger B</button>
<div class="toggle" id="multiple-target-a1">Toggle A</div>
<div class="toggle" id="multiple-target-b1">Toggle B</div>

<h3>Examples of grouping Toggles</h3>

<h4>Basic example</h4>
<button class="trigger" type="button" aria-controls="toggle-group-1">Trigger 1</button>
<button class="trigger" type="button" aria-controls="toggle-group-2">Trigger 2</button>
<button class="trigger" type="button" aria-controls="toggle-group-3">Trigger 3</button>
<div class="toggle" id="toggle-group-1" data-group="group">Toggle 1</div>
<div class="toggle" id="toggle-group-2" data-group="group">Toggle 2</div>
<div class="toggle" id="toggle-group-3" data-group="group">Toggle 3</div>

<h4>Radio Buttons</h4>
<input type="radio" aria-controls="input-radio-1" name="radio" />
<input type="radio" aria-controls="input-radio-2" name="radio" />
<input type="radio" aria-controls="input-radio-3" name="radio" />
<div class="toggle" id="input-radio-1" data-group="input-radio">Toggle 1</div>
<div class="toggle" id="input-radio-2" data-group="input-radio">Toggle 2</div>
<div class="toggle" id="input-radio-3" data-group="input-radio">Toggle 3</div>

<h4>Select</h4>
<select aria-controls="select-1 select-2 select-3">
    <option value="1" aria-controls="select-1">Toggle 1</option>
    <option value="2" aria-controls="select-2">Toggle 2</option>
    <option value="3" aria-controls="select-3">Toggle 3</option>
</select>
<div class="toggle" id="select-1" data-group="select">Toggle 1</div>
<div class="toggle" id="select-2" data-group="select">Toggle 2</div>
<div class="toggle" id="select-3" data-group="select">Toggle 3</div>

<h3>Examples of other configuration options</h3>

<h4>Toggle disables when clicking outside</h4>

<h5>Disable Toggle when clicked/hovered outside</h5>
<button type="button" aria-controls="toggle-outside-both" class="trigger">Trigger</button>
<div class="toggle" id="toggle-outside-both" data-outside="both">Toggle Both</div>

<h5>Disable Toggle when hovered outside</h5>
<button type="button" aria-controls="toggle-outside-mouse" class="trigger">Trigger</button>
<div class="toggle" id="toggle-outside-mouse" data-outside="mouse">Toggle Mouse</div>

<h5>Disable Toggle when clicked outside</h5>
<button type="button" aria-controls="toggle-outside-click" class="trigger">Trigger</button>
<div class="toggle" id="toggle-outside-click" data-outside="click">Toggle Click</div>

<h4>Focus</h4>

<h5>Focus receive</h5>
<div id="focus-receive" class="toggle" data-focus="true">
    <p>Just a basic toggle, but it also has focus excludement.</p>
</div>
<button type="button" aria-controls="focus-receive">Toggle</button>

<h5>Focus Containment</h5>
<div id="focus-contain" class="toggle" data-focus-contain="true">
    <p>Just a basic toggle, but it also has focus containment. This can be used as a dialog.</p>
    <a href="http://www.google.com">Anchor</a>
    <button type="button">Button</button>
    <button type="button" aria-controls="focus-contain">Close dialog</button>
</div>
<button type="button" aria-controls="focus-contain">Toggle</button>

<h5>Focus Exclude</h5>
<div id="focus-exclude" class="toggle" data-focus-exclude="true">
    <p>Just a basic toggle, but it also has focus excludement.</p>
    <a href="http://www.google.com">Anchor</a>
    <button type="button">Button</button>
    <button type="button" aria-controls="focus-exclude">Close dialog</button>
</div>
<button type="button" aria-controls="focus-exclude">Toggle</button>

<h3>Examples of dynamically generating Toggle</h3>

<h2>Dynamically generated triggers</h2>
<p>Toggles and triggers can also be generated dynamically.</p>

<h3>Dynamic toggle</h3>

<div id="dynamic-buttons">
    <button aria-controls="toggle-dynamic-group-1">Trigger 1</button>
    <button aria-controls="toggle-dynamic-group-2">Trigger 2</button>
    <button aria-controls="toggle-dynamic-group-3">Trigger 3</button>
</div>

<div id="dynamic-toggles">
    <div class="toggle" id="toggle-dynamic-group-1" data-group="dynamic">Toggle 1</div>
    <div class="toggle" id="toggle-dynamic-group-2" data-group="dynamic">Toggle 2</div>
    <div class="toggle" id="toggle-dynamic-group-3" data-group="dynamic">Toggle 3</div>
</div>

<button id="add-toggle">Add toggle</button>

<h3>Dynamic trigger</h3>
<div class="toggle" id="toggle-dynamic">Toggle</div>
<a href="#toggle-dynamic" class="trigger">Trigger</a>

<button id="add-trigger">Add trigger</button>

<style>
    [tabindex='-1']{
        opacity: .5;
    }

    .toggle {
        background: green;
    }

    [data-active="true"],
    [aria-hidden="false"],
    [aria-disabled="false"]{
        background: blue;
    }

    [data-active="false"],
    [aria-hidden="true"],
    [aria-disabled="true"]{
        background: red;
    }
</style>
<script src="bundle.js"></script>
</body>
</html>
